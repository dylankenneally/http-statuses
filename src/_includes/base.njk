<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{% if (title) %}{{ title }} â€” {% endif %}{{ meta.siteName}}</title>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&family=IBM+Plex+Sans:wght@400;700&display=swap" rel="stylesheet">
		<style>
			:root {
				--text-colour: #F4F1D0;
				--background-colour: #101014;
			}

			html {
				font-family: 'IBM Plex Sans', sans-serif;
				font-size: clamp(1em, calc(50% + 1vw), 2.5em);
				color: var(--text-colour);
				background: var(--background-colour);
			}

			body {
				margin: 0 auto;
				max-width: 56em;
			}

			code {
				font-family: 'IBM Plex Mono', monospace;
				background: #343434;
			}

			#header-background {
				{# full bleed - to the left/right edges #}
				position: absolute;
				width: 100vw;
				left: 0px;
				z-index: -1;
				background: #a6307f;
			}

			header {
				display: flex;
				flex-wrap: wrap;
				align-items: center;
				padding: 0 1em;
				{# justify-content: center; #}
				text-align: center;
			}

			header > * {
				flex: 1 0 100%;
			}

			h1 {
				font-size: 2.4em;
				line-height: 1em;
			}

			h2, p {
				font-size: 1.7em;
			}

			svg.icon {
				fill: var(--text-colour);
			}

			.button {
				text-transform: uppercase;
				text-decoration: none;
				color: var(--text-colour);
				font-size: 0.75em;
				vertical-align: middle;
				letter-spacing: 0.05em;
				position: relative;
				display: inline-block;
				padding: 1rem;
				white-space: nowrap;
				vertical-align: middle;
				overflow: hidden;
				border: transparent;
				background: #16171d;
				border-radius: 0.3rem;
				text-decoration: none;
				transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1.000);
			}

			.button svg.icon {
				width: calc(1rem / 1.5);
				margin-inline-end: calc(1rem/2);
				position: relative;
				top: 0.1em;
			}

			nav {
				padding: 0.5em;
			}

			main {
				padding: 1em;
			}

			.button:hover {
				transform: scale(1.01);
				box-shadow: 0 2px 10px 1px rgba(0,0,0,.5);
				background-color:  #1f2128;
			}

			@media(min-width: 800px) {
				header {
					text-align: start;
				}
				header > * {
					flex: 1 0 50%;
				}

				h1 {
					font-size: 3.2em;
				}
			}
		</style>
	</head>
	<body>
		<span id="header-background"></span>
		<nav>
			{% block nav %}<p><strong>THIS IS PLACEHOLDER `nav`. Where's the real thing?</strong></p>{% endblock %}
		</nav>
		<header>
			{% block header %}
			<p><strong>THIS IS PLACEHOLDER `header`. Where's the real thing?</strong></p>
			{% endblock %}
		</header>
		<main>
			{% block content %}
			<p><strong>THIS IS PLACEHOLDER `content`. Where's the real thing?</strong></p>
			{% endblock %}
		</main>
		{# <footer>todo:</footer> #}
		<script>
			const headerBackground = document.getElementById('header-background');
			const header = document.getElementsByTagName('header')[0];

			function updateHeaderBackgroundSize() {
				const nav = document.getElementsByTagName('nav')[0];
				headerBackground.style.height = `${header.clientHeight + nav.clientHeight}px`;
			}

			new ResizeObserver(updateHeaderBackgroundSize).observe(header);
		</script>
	</body>
</html>
